(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{41:function(e,t,a){e.exports=a(91)},47:function(e,t,a){},48:function(e,t,a){},57:function(e,t,a){},62:function(e,t,a){},81:function(e,t,a){},82:function(e,t,a){},91:function(e,t,a){"use strict";a.r(t);a(42);var n=a(0),r=a.n(n),l=a(36),c=a.n(l);a(47),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(5),o=a(6),s=a(8),u=a(7),m=a(9),d=(a(48),a(15)),p=a(17),h=a(16),b=a(10),f=a.n(b),E=f.a.initializeApp({apiKey:"AIzaSyB0oNIdCxxr6QyniIO9e1luNzR6giC4nDY",authDomain:"efridge-5256e.firebaseapp.com",databaseURL:"https://efridge-5256e.firebaseio.com",projectId:"efridge-5256e",storageBucket:"efridge-5256e.appspot.com",messagingSenderId:"630139984649",appId:"1:630139984649:web:d8a2d5685d0270ec"}),y=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.quantity),r.a.createElement("td",null,e.type))))},g=[{id:1,name:"Par\xf3wka",type:"sztuka"},{id:2,name:"Pieczarka",type:"gram"},{id:3,name:"Cebula",type:"sztuka"},{id:4,name:"Pomidor",type:"sztuka"},{id:5,name:"Czosnek",type:"z\u0105bek"},{id:6,name:"Ry\u017c",type:"opakowanie"},{id:7,name:"Papryka",type:"sztuka"},{id:8,name:"Og\xf3rek",type:"sztuka"},{id:9,name:"Jajko",type:"sztuka"},{id:10,name:"Mleko",type:"mililitr"},{id:11,name:"Mas\u0142o",type:"gram"},{id:12,name:"Filet",type:"sztuka"},{id:13,name:"Sos",type:"sztuka"},{id:14,name:"Makaron",type:"gram"}],v=(a(57),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={userId:localStorage.getItem("user"),fridge:[],products:g},e.database=E.database().ref("fridge/userId/".concat(e.state.userId)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getDataFromDatabase",value:function(){var e=this;null===this.state.userId&&window.location.reload(),this.database.on("value",function(t){var a=t.val(),n=[];null!==a&&(a.forEach(function(e){n.push({id:e.id,name:e.name,quantity:e.quantity,type:e.type})}),e.setState({fridge:n}))})}},{key:"componentWillMount",value:function(){this.getDataFromDatabase()}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Rzeczy w Twojej lod\xf3wce:"),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("table",{className:"table table-bordered table-dark"},r.a.createElement("tbody",{className:"text-success"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"Nazwa produktu"),r.a.createElement("th",{scope:"col"},"Ilo\u015b\u0107"),r.a.createElement("th",{scope:"col"},"Jednostka"))),this.state.fridge.map(function(e){return r.a.createElement(y,Object.assign({key:e.id},e))})))))}}]),t}(r.a.Component)),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).logout=a.logout.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"logout",value:function(){E.auth().signOut()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v,null))}}]),t}(n.Component),j=a(38),w=a.n(j),O=(a(62),function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={userId:localStorage.getItem("user"),fridge:[],products:g},e.database=E.database().ref("fridge/userId/".concat(e.state.userId)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"getDataFromDatabase",value:function(){var e=this;this.database.on("value",function(t){var a=t.val(),n=[];null!==a&&(a.forEach(function(e){n.push({id:e.id,name:e.name,quantity:e.quantity,type:e.type})}),e.setState({fridge:n}))})}},{key:"componentWillMount",value:function(){this.getDataFromDatabase()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("form",null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("select",{type:"text",id:"name",className:"form-control"},r.a.createElement("option",{disabled:!0,selected:!0},"Wybierz produkt"),this.state.products.map(function(e){return r.a.createElement("option",{value:e.name,key:e.id},e.name,", ",e.type)}))),r.a.createElement("div",{className:"col-lg-2"},r.a.createElement("input",{id:"quantity",placeholder:"ilo\u015b\u0107",className:"form-control"})),r.a.createElement("div",{className:"col-sm-2"},r.a.createElement("button",{type:"button",className:"btn btn-outline-success",onClick:function(t){t.preventDefault();var a=document.getElementById("name").value,n=document.getElementById("quantity").value;if("Wybierz produkt"!==a){var r=e.state.products.findIndex(function(e){return e.name.toLowerCase()===a.toLowerCase()}),l=e.state.products[r].id,c=e.state.products[r].type;if(!1!==/^\d+$/.test(n)&&0!==n){var i=e.state.fridge.findIndex(function(e){return e.name.toLowerCase()===a.toLowerCase()});-1===i?(e.state.fridge.push({id:l,name:a,quantity:Number.parseInt(n),type:c}),e.forceUpdate(),e.database.update(e.state.fridge)):(e.state.fridge[i].quantity+=Number.parseInt(n),e.forceUpdate(),e.database.update(e.state.fridge)),document.getElementById("quantity").value=""}else alert("wybierz ilo\u015b\u0107")}}},"Dodaj produkt")))))}}]),t}(r.a.Component)),I=a(20),N=a.n(I),D=(a(81),function(e){return r.a.createElement("li",null,r.a.createElement("div",null,r.a.createElement("p",{className:""},e.name,", ",e.quantity,", ",e.type)))}),z=(a(82),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={recipeId:e.id,recipe:{name:"",description:"",ingredients:[]}},N.a.get("http://localhost:8080/recipes/"+a.state.recipeId).then(function(e){a.setState({recipe:e.data})}),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",null,this.state.recipe.name),r.a.createElement("p",null,this.state.recipe.description),r.a.createElement("ul",null,this.state.recipe.ingredients.map(function(e){return r.a.createElement(D,e)})),r.a.createElement("button",{onClick:function(){return alert("TODO: implement")}},"Wykorzystaj przepis"),r.a.createElement("button",{onClick:function(){return alert("TODO: implement")}},"Wygeneruj list\u0119 zakupow\u0105"))}}]),t}(r.a.Component)),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={recipes:[{id:0,name:""}],nameSearchParam:""},a.handleChangeSearchParam=a.handleChangeSearchParam.bind(Object(h.a)(a)),a.handleClick=a.handleClick.bind(Object(h.a)(a)),N.a.get("http://localhost:8080/recipes/all").then(function(e){a.setState({recipes:e.data})}),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"handleClick",value:function(){var e=this;console.log("wyszukuje restauracje"),""===this.state.nameSearchParam?alert("Nie podano parametru wyszukiwania"):N.a.get("http://localhost:8080/recipes/findByName?name="+this.state.nameSearchParam).then(function(t){e.setState({recipes:t.data})})}},{key:"render",value:function(){var e="Poka\u017c przepis",t="Wyszukaj restauracje",a=this.state.recipes.map(function(t,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,t.name),r.a.createElement("td",null,r.a.createElement(d.b,{style:{textDecoration:"none",color:"white"},to:"/RecipeDetails/".concat(t.id),id:t.id},r.a.createElement("button",{style:{textDecoration:"none",color:"white"},className:"btn btn-outline-success"},e)),r.a.createElement(p.a,{path:"/RecipeDetails/:id",render:function(e){return r.a.createElement(z,Object.assign({},e,{id:t.id}))}})))});return r.a.createElement("div",{className:"container"},r.a.createElement(d.a,null,r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-lg-6"},r.a.createElement("input",{className:"form-control",value:this.state.nameSearchParam,onChange:this.handleChangeSearchParam})),r.a.createElement("div",{className:"col-lg-3"},r.a.createElement("button",{style:{textDecoration:"none",color:"white"},className:"btn btn-outline-success",onClick:this.handleClick},t))),r.a.createElement("div",{className:"row"},r.a.createElement("table",{className:"table"},r.a.createElement("tbody",null,a))))))}},{key:"handleChangeSearchParam",value:function(e){this.setState({nameSearchParam:e.target.value})}}],[{key:"showRecipeDetails",value:function(e){alert("Przechodze do widoku przepisu o id: "+e+". TODO: do zaimplementowania")}}]),t}(r.a.Component);f.a.apps.length||f.a.initializeApp({apiKey:"AIzaSyB0oNIdCxxr6QyniIO9e1luNzR6giC4nDY",authDomain:"efridge-5256e.firebaseapp.com",databaseURL:"https://efridge-5256e.firebaseio.com",projectId:"efridge-5256e",storageBucket:"efridge-5256e.appspot.com",messagingSenderId:"630139984649",appId:"1:630139984649:web:d8a2d5685d0270ec"});var S=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={isSignedIn:!1},a.uiConfig={signInFlow:"popup",signInOptions:[f.a.auth.GoogleAuthProvider.PROVIDER_ID,f.a.auth.FacebookAuthProvider.PROVIDER_ID,f.a.auth.EmailAuthProvider.PROVIDER_ID],callbacks:{signInSuccess:function(){return!1}}},a.componentDidMount=function(){f.a.auth().onAuthStateChanged(function(e){a.setState({isSignedIn:!!e}),localStorage.setItem("user",e.uid),console.log("user",e)})},a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"area"},r.a.createElement("ul",{className:"circles"},r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null),r.a.createElement("li",null))),r.a.createElement("div",{className:"context"},this.state.isSignedIn?r.a.createElement(d.a,null,r.a.createElement(p.c,null,r.a.createElement("span",null,r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"},r.a.createElement("button",{type:"button",className:"btn btn-outline-info"},r.a.createElement(d.b,{style:{textDecoration:"none",color:"white"},to:"/profile"},"Tw\xf3j profil")),r.a.createElement("button",{type:"button",className:"btn btn-outline-info"},r.a.createElement(d.b,{style:{textDecoration:"none",color:"white"},to:"/your-fridge"},"Podgl\u0105d Twojej lod\xf3wki")),r.a.createElement("button",{type:"button",className:"btn btn-outline-info"},r.a.createElement(d.b,{style:{textDecoration:"none",color:"white"},to:"/add-product"},"Dodaj produkt do lod\xf3wki")),r.a.createElement("button",{type:"button",className:"btn btn-outline-info"},r.a.createElement(d.b,{style:{textDecoration:"none",color:"white"},to:"/RecipeDetails"},"Wyszukaj dost\u0119pny przepis")),r.a.createElement("button",{type:"button",className:"btn btn-outline-warning",onClick:function(){f.a.auth().signOut(),localStorage.removeItem("user")}},"Wyloguj!")),r.a.createElement("div",{className:"btn-group",role:"group","aria-label":"Basic example"}),r.a.createElement("h1",null,"Witaj ",f.a.auth().currentUser.displayName,"!"),r.a.createElement(p.a,{exact:!0,path:"/profile",component:k}),r.a.createElement(p.a,{exact:!0,path:"/your-fridge",component:k}),r.a.createElement(p.a,{exact:!0,path:"/add-product",component:O}),r.a.createElement(p.a,{path:"/RecipeDetails",component:C})))):r.a.createElement("div",null,r.a.createElement(w.a,{uiConfig:this.uiConfig,firebaseAuth:f.a.auth()}))))}}]),t}(n.Component);c.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[41,1,2]]]);
//# sourceMappingURL=main.00bc68ab.chunk.js.map